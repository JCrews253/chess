{"version":3,"sources":["components/piece/piece.ts","components/simulation/simulation.ts","components/Board/Board.tsx","components/Header/Header.tsx","App.tsx","index.tsx"],"names":["Piece","Color","GetRow","idx","Math","floor","GetCol","GetIdxByRowCol","row","col","HandleMoves","piece","board","moves","Knight","KnightMoves","index","Rook","RookMoves","Bishop","BishopMoves","Queen","concat","King","KingMoves","Pawn","PawnMoves","push","filter","m","color","cRow","Empty","cCol","Light","firstMove","Dark","reverseArray","array","slice","reverse","LPawnPosPoints","DPawnPosPoints","KnightPosPoints","LBishopPosPoints","DBishopPosPoints","LRookPosPoints","DRookPosPoints","QueenPosPoints","LKingPosPoints","DKingPosPoints","MinMax","depth","isMaximizing","cloneBoard","JSON","parse","stringify","CalcScore","bestScore","Infinity","bestMove","start","end","s","forEach","p","None","score","lightPieces","darkPieces","GetPoints","Board","isLight","isLightPiece","isKing","isQueen","isBishop","isKnight","isRook","isPawn","SwapTurns","setTurn","turn","isSelected","selected","isAvailableMove","availableMoves","includes","isKillingMove","killingMoves","InitializeBoard","newBoard","Array","fill","_","i","ShowPopUp","position","useState","setBoard","SetSelected","setAvailableMoves","setKillingMoves","gameOver","setGameOver","useEffect","kMoves","move","MakeAiMove","Simulate","lightKing","darkKing","alert","CheckForWin","className","map","join","onClick","HandlePieceClick","key","Header","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.52a109fe.chunk.js","sourcesContent":["export interface IPosition{\r\n    piece: Piece,\r\n    color: Color,\r\n    index: number,\r\n    firstMove: boolean\r\n}\r\n\r\nexport enum Piece{\r\n    King,\r\n    Queen,\r\n    Bishop,\r\n    Knight,\r\n    Rook,\r\n    Pawn,\r\n    Empty\r\n}\r\n\r\nexport enum Color{\r\n    Dark,\r\n    Light,\r\n    None\r\n}\r\n\r\nconst GetRow = (idx:number):number => Math.floor( idx / 8 )\r\nconst GetCol = (idx:number):number => idx >= 8 ? idx % 8 : idx\r\nconst GetIdxByRowCol = (row:number,col:number):number => 8 * row + col\r\n\r\nexport const HandleMoves = (piece:IPosition,board:IPosition[]):number[] => {\r\n    var moves:number[] = []\r\n    if(piece.piece === Piece.Knight) moves = KnightMoves(piece.index,board) \r\n    if(piece.piece === Piece.Rook) moves = RookMoves(piece.index,board) \r\n    if(piece.piece === Piece.Bishop) moves = BishopMoves(piece.index,board) \r\n    if(piece.piece === Piece.Queen) moves = moves.concat(BishopMoves(piece.index,board)).concat(RookMoves(piece.index,board)) \r\n    if(piece.piece === Piece.King) moves = KingMoves(piece.index,board)\r\n    if(piece.piece === Piece.Pawn) moves = PawnMoves(piece.index,board)\r\n    return moves\r\n}\r\n\r\nexport const KnightMoves = (idx: number,board:IPosition[]):number[] => {\r\n    const row = GetRow(idx)\r\n    const col = GetCol(idx)      \r\n    const moves:number[] = []\r\n    if(row >= 2 && col <= 6) moves.push(GetIdxByRowCol(row-2,col+1))\r\n    if(row >= 1 && col <= 5) moves.push(GetIdxByRowCol(row-1,col+2))\r\n    if(row <= 6 && col <= 5) moves.push(GetIdxByRowCol(row+1,col+2))\r\n    if(row <= 5 && col <= 6) moves.push(GetIdxByRowCol(row+2,col+1))\r\n    if(row <= 5 && col >= 1) moves.push(GetIdxByRowCol(row+2,col-1))\r\n    if(row <= 6 && col >= 2) moves.push(GetIdxByRowCol(row+1,col-2))\r\n    if(row >= 1 && col >= 2) moves.push(GetIdxByRowCol(row-1,col-2))\r\n    if(row >= 2 && col >= 1) moves.push(GetIdxByRowCol(row-2,col-1))\r\n    return moves.filter(m => board[m].color !== board[idx].color)\r\n}\r\n\r\nexport const RookMoves = (idx:number, board:IPosition[]):number[] => {\r\n    const row = GetRow(idx)\r\n    const col = GetCol(idx)\r\n    const moves:number[] =[]\r\n    //up\r\n    var cRow = row\r\n    while((cRow - 1 > -1 ) && board[GetIdxByRowCol(cRow-1,col)].piece === Piece.Empty){\r\n        moves.push(GetIdxByRowCol(cRow-1,col))\r\n        cRow--\r\n    }\r\n    if(cRow > 0 && board[GetIdxByRowCol(cRow-1,col)].color !== board[idx].color) moves.push(GetIdxByRowCol(cRow-1,col))\r\n\r\n    //Right\r\n    var cCol = col\r\n    while((cCol + 1 < 8 && board[GetIdxByRowCol(row,cCol+1)].piece === Piece.Empty)){\r\n        moves.push(GetIdxByRowCol(row,cCol+1))\r\n        cCol++\r\n    }\r\n    if(cCol < 7 && board[GetIdxByRowCol(row,cCol + 1)].color !== board[idx].color) moves.push(GetIdxByRowCol(row,cCol+1))\r\n\r\n    //Down\r\n    cRow = row\r\n    while((cRow + 1 < 8 && board[GetIdxByRowCol(cRow+1,col)].piece === Piece.Empty)){\r\n        moves.push(GetIdxByRowCol(cRow+1,col))\r\n        cRow++\r\n    }\r\n    if(cRow < 7 && board[GetIdxByRowCol(cRow+1,col)].color !== board[idx].color) moves.push(GetIdxByRowCol(cRow+1,col))\r\n\r\n    //Left\r\n    cCol = col\r\n    while((cCol - 1 > 0 && board[GetIdxByRowCol(row,cCol-1)].piece === Piece.Empty)){\r\n        moves.push(GetIdxByRowCol(row,cCol-1))\r\n        cCol--\r\n    }\r\n    if(cCol > 0 && board[GetIdxByRowCol(row,cCol - 1)].color !== board[idx].color) moves.push(GetIdxByRowCol(row,cCol-1))\r\n\r\n    return moves\r\n}\r\n\r\nexport const BishopMoves = (idx:number, board:IPosition[]):number[] => {\r\n    const row = GetRow(idx)\r\n    const col = GetCol(idx)      \r\n    const moves:number[] = []\r\n    //Up Right\r\n    var cRow = row\r\n    var cCol = col\r\n    while(cRow - 1 > -1 && cCol + 1 < 8 && board[GetIdxByRowCol(cRow-1,cCol+1)].piece === Piece.Empty){\r\n        moves.push(GetIdxByRowCol(cRow-1,cCol+1))\r\n        cRow--\r\n        cCol++\r\n    }\r\n    if(cRow - 1 > -1 && cCol + 1 < 8 && board[GetIdxByRowCol(cRow-1,cCol+1)].color !== board[idx].color) moves.push(GetIdxByRowCol(cRow-1,cCol+1))\r\n    \r\n    //Down Right\r\n    cRow = row\r\n    cCol = col\r\n    while(cRow + 1 < 8 && cCol + 1 < 8 && board[GetIdxByRowCol(cRow+1,cCol+1)].piece === Piece.Empty){\r\n        moves.push(GetIdxByRowCol(cRow+1,cCol+1))\r\n        cRow++\r\n        cCol++\r\n    }\r\n    if(cRow + 1 < 8 && cCol + 1 < 8 && board[GetIdxByRowCol(cRow+1,cCol+1)].color !== board[idx].color) moves.push(GetIdxByRowCol(cRow+1,cCol+1))\r\n\r\n    //Down Left\r\n    cRow = row\r\n    cCol = col\r\n    while(cRow + 1 < 8 && cCol - 1 > -1 && board[GetIdxByRowCol(cRow+1,cCol-1)].piece === Piece.Empty){\r\n        moves.push(GetIdxByRowCol(cRow+1,cCol-1))\r\n        cRow++\r\n        cCol--\r\n    }\r\n    if(cRow + 1 < 8 && cCol - 1 > -1 && board[GetIdxByRowCol(cRow+1,cCol-1)].color !== board[idx].color) moves.push(GetIdxByRowCol(cRow+1,cCol-1))\r\n\r\n    //Up Left\r\n    cRow = row\r\n    cCol = col\r\n    while(cRow - 1 > -1 && cCol - 1 > -1 && board[GetIdxByRowCol(cRow-1,cCol-1)].piece === Piece.Empty){\r\n        moves.push(GetIdxByRowCol(cRow-1,cCol-1))\r\n        cRow--\r\n        cCol--\r\n    }\r\n    if(cRow - 1 > -1 && cCol - 1 > -1 && board[GetIdxByRowCol(cRow-1,cCol-1)].color !== board[idx].color) moves.push(GetIdxByRowCol(cRow-1,cCol-1))\r\n\r\n\r\n    return moves\r\n}\r\n\r\nexport const KingMoves = (idx:number, board:IPosition[]):number[] => {\r\n    const row = GetRow(idx)\r\n    const col = GetCol(idx)      \r\n    const moves:number[] = []\r\n    if(row > 0) moves.push(GetIdxByRowCol(row-1,col)) //up\r\n    if(row > 0 && col < 7) moves.push(GetIdxByRowCol(row-1,col+1)) //up right\r\n    if(col < 7) moves.push(GetIdxByRowCol(row,col+1)) //right\r\n    if(row < 7 && col < 7) moves.push(GetIdxByRowCol(row+1,col+1)) //down right\r\n    if(row < 7) moves.push(GetIdxByRowCol(row+1,col)) //down\r\n    if(row < 7 && col > 0) moves.push(GetIdxByRowCol(row+1,col-1)) //down left\r\n    if(col > 0) moves.push(GetIdxByRowCol(row,col-1)) //left\r\n    if(row > 0 && col > 0) moves.push(GetIdxByRowCol(row-1,col-1)) //up left\r\n\r\n    //castling\r\n\r\n    //Remove check moves\r\n\r\n    return moves.filter(m => board[m].color !== board[idx].color)\r\n}\r\n\r\nexport const PawnMoves = (idx:number, board:IPosition[]):number[] => {\r\n    const row = GetRow(idx)\r\n    const col = GetCol(idx)      \r\n    const moves:number[] = []\r\n\r\n    if(board[idx].color === Color.Light){\r\n        if(row > 0 && board[GetIdxByRowCol(row-1,col)].piece === Piece.Empty) moves.push(GetIdxByRowCol(row-1,col))\r\n        if(board[idx].firstMove && \r\n            board[GetIdxByRowCol(row-1,col)].piece === Piece.Empty &&\r\n            board[GetIdxByRowCol(row-2,col)].piece === Piece.Empty){\r\n                moves.push(GetIdxByRowCol(row-2,col))\r\n            }\r\n        if( col > 0 &&\r\n            board[GetIdxByRowCol(row-1,col-1)].piece !== Piece.Empty &&\r\n            board[GetIdxByRowCol(row-1,col-1)].color !== Color.Light){\r\n                moves.push(GetIdxByRowCol(row-1,col-1))\r\n            }\r\n        if( col < 7 &&\r\n            board[GetIdxByRowCol(row-1,col+1)].piece !== Piece.Empty &&\r\n            board[GetIdxByRowCol(row-1,col+1)].color !== Color.Light){\r\n                moves.push(GetIdxByRowCol(row-1,col+1))\r\n            } \r\n    }\r\n    else{\r\n        if(row < 7 && board[GetIdxByRowCol(row+1,col)].piece === Piece.Empty) moves.push(GetIdxByRowCol(row+1,col))\r\n        if(board[idx].firstMove && \r\n            board[GetIdxByRowCol(row+1,col)].piece === Piece.Empty &&\r\n            board[GetIdxByRowCol(row+2,col)].piece === Piece.Empty){\r\n                moves.push(GetIdxByRowCol(row+2,col))\r\n            } \r\n        if(col > 0 &&\r\n            board[GetIdxByRowCol(row+1,col-1)].piece !== Piece.Empty &&\r\n            board[GetIdxByRowCol(row+1,col-1)].color !== Color.Dark){\r\n                moves.push(GetIdxByRowCol(row+1,col-1))\r\n            }\r\n        if(col < 7 &&\r\n            board[GetIdxByRowCol(row+1,col+1)].piece !== Piece.Empty &&\r\n            board[GetIdxByRowCol(row+1,col+1)].color !== Color.Dark){\r\n                moves.push(GetIdxByRowCol(row+1,col+1))\r\n            } \r\n    }\r\n\r\n\r\n\r\n    //en passant\r\n\r\n    return moves\r\n}","import { IPosition, Color, Piece, HandleMoves} from \"../piece/piece\";\r\n\r\nexport interface Move{\r\n    start: number,\r\n    end: number\r\n}\r\n\r\nconst KingPoints = 900\r\nconst QueenPoints = 90\r\nconst BishopPoints = 30\r\nconst KnightPoints = 30\r\nconst RookPoints = 50\r\nconst PawnPoints = 10\r\n\r\nvar reverseArray = function(array:number[]) {\r\n    return array.slice().reverse();\r\n};\r\n\r\nconst LPawnPosPoints = [\r\n        0.0,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0,\r\n        5.0,  5.0,  5.0,  5.0,  5.0,  5.0,  5.0,  5.0,\r\n        1.0,  1.0,  2.0,  3.0,  3.0,  2.0,  1.0,  1.0,\r\n        0.5,  0.5,  1.0,  2.5,  2.5,  1.0,  0.5,  0.5,\r\n        0.0,  0.0,  0.0,  2.0,  2.0,  0.0,  0.0,  0.0,\r\n        0.5, -0.5, -1.0,  0.0,  0.0, -1.0, -0.5,  0.5,\r\n        0.5,  1.0, 1.0,  -2.0, -2.0,  1.0,  1.0,  0.5,\r\n        0.0,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0\r\n    ];\r\n\r\nconst DPawnPosPoints = reverseArray(LPawnPosPoints);\r\n\r\nconst KnightPosPoints = [\r\n        -5.0, -4.0, -3.0, -3.0, -3.0, -3.0, -4.0, -5.0,\r\n        -4.0, -2.0,  0.0,  0.0,  0.0,  0.0, -2.0, -4.0,\r\n        -3.0,  0.0,  1.0,  1.5,  1.5,  1.0,  0.0, -3.0,\r\n        -3.0,  0.5,  1.5,  2.0,  2.0,  1.5,  0.5, -3.0,\r\n        -3.0,  0.0,  1.5,  2.0,  2.0,  1.5,  0.0, -3.0,\r\n        -3.0,  0.5,  1.0,  1.5,  1.5,  1.0,  0.5, -3.0,\r\n        -4.0, -2.0,  0.0,  0.5,  0.5,  0.0, -2.0, -4.0,\r\n        -5.0, -4.0, -3.0, -3.0, -3.0, -3.0, -4.0, -5.0\r\n    ];\r\n\r\nconst LBishopPosPoints = [\r\n     -2.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -2.0,\r\n     -1.0,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0, -1.0,\r\n     -1.0,  0.0,  0.5,  1.0,  1.0,  0.5,  0.0, -1.0,\r\n     -1.0,  0.5,  0.5,  1.0,  1.0,  0.5,  0.5, -1.0,\r\n     -1.0,  0.0,  1.0,  1.0,  1.0,  1.0,  0.0, -1.0,\r\n     -1.0,  1.0,  1.0,  1.0,  1.0,  1.0,  1.0, -1.0,\r\n     -1.0,  0.5,  0.0,  0.0,  0.0,  0.0,  0.5, -1.0,\r\n     -2.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -2.0\r\n];\r\n\r\nconst DBishopPosPoints = reverseArray(LBishopPosPoints);\r\n\r\nconst LRookPosPoints = [\r\n      0.0,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0,\r\n      0.5,  1.0,  1.0,  1.0,  1.0,  1.0,  1.0,  0.5,\r\n     -0.5,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0, -0.5,\r\n     -0.5,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0, -0.5,\r\n     -0.5,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0, -0.5,\r\n     -0.5,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0, -0.5,\r\n     -0.5,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0, -0.5,\r\n      0.0,   0.0, 0.0,  0.5,  0.5,  0.0,  0.0,  0.0\r\n];\r\n\r\nconst DRookPosPoints = reverseArray(LRookPosPoints);\r\n\r\nconst QueenPosPoints = [\r\n     -2.0, -1.0, -1.0, -0.5, -0.5, -1.0, -1.0, -2.0,\r\n     -1.0,  0.0,  0.0,  0.0,  0.0,  0.0,  0.0, -1.0,\r\n     -1.0,  0.0,  0.5,  0.5,  0.5,  0.5,  0.0, -1.0,\r\n     -0.5,  0.0,  0.5,  0.5,  0.5,  0.5,  0.0, -0.5,\r\n      0.0,  0.0,  0.5,  0.5,  0.5,  0.5,  0.0, -0.5,\r\n     -1.0,  0.5,  0.5,  0.5,  0.5,  0.5,  0.0, -1.0,\r\n     -1.0,  0.0,  0.5,  0.0,  0.0,  0.0,  0.0, -1.0,\r\n     -2.0, -1.0, -1.0, -0.5, -0.5, -1.0, -1.0, -2.0\r\n];\r\n\r\nconst LKingPosPoints = [\r\n     -3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0,\r\n     -3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0,\r\n     -3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0,\r\n     -3.0, -4.0, -4.0, -5.0, -5.0, -4.0, -4.0, -3.0,\r\n     -2.0, -3.0, -3.0, -4.0, -4.0, -3.0, -3.0, -2.0,\r\n     -1.0, -2.0, -2.0, -2.0, -2.0, -2.0, -2.0, -1.0,\r\n      2.0,  2.0,  0.0,  0.0,  0.0,  0.0,  2.0,  2.0 ,\r\n      2.0,  3.0,  1.0,  0.0,  0.0,  1.0,  3.0,  2.0\r\n];\r\n\r\nconst DKingPosPoints = reverseArray(LKingPosPoints);\r\n\r\n\r\nexport const Simulate = (board:IPosition[], depth:number, color:Color):Move => {\r\n    var cloneBoard:IPosition[] = JSON.parse(JSON.stringify(board))\r\n    var bestScore = -Infinity\r\n    var bestMove:Move = {start:-1,end:-1}\r\n    const pieces:IPosition[] = cloneBoard.filter( s => s.color === color)\r\n    pieces.forEach( p => {\r\n        const moves = HandleMoves(p,cloneBoard)\r\n        moves.forEach( m => {\r\n            cloneBoard[m] = {\r\n                piece: cloneBoard[p.index].piece,\r\n                color: cloneBoard[p.index].color,\r\n                firstMove:false,\r\n                index: m,\r\n            }\r\n            cloneBoard[p.index] = {\r\n                piece: Piece.Empty,\r\n                color: Color.None,\r\n                index: p.index,\r\n                firstMove:false\r\n            }\r\n            var score = MinMax(cloneBoard,depth-1, color === Color.Light ? Color.Dark : Color.Light, false)\r\n            if(score > bestScore){  \r\n                bestScore = score\r\n                bestMove = {\r\n                    start: p.index,\r\n                    end: m\r\n                }\r\n            }\r\n            cloneBoard = JSON.parse(JSON.stringify(board))\r\n        })\r\n    })\r\n    return bestMove\r\n}\r\n\r\nexport const MinMax = (board:IPosition[], depth:number, color:Color, isMaximizing:boolean):number => {\r\n    //Make a copy of the board\r\n    var cloneBoard:IPosition[] = JSON.parse(JSON.stringify(board))\r\n    //if the depth reaches the end return the score of the current board\r\n    if(depth <= 0) return CalcScore(cloneBoard)\r\n    //set -inf if maximizing players turn \r\n    var bestScore = isMaximizing ? -Infinity : Infinity\r\n    var bestMove:Move = {start: -1, end: -1}\r\n    const pieces:IPosition[] = cloneBoard.filter( s => s.color === color)\r\n    pieces.forEach( p => {\r\n        const moves = HandleMoves(p,cloneBoard)\r\n        moves.forEach( m => {\r\n            cloneBoard[m] = {\r\n                piece: cloneBoard[p.index].piece,\r\n                color: cloneBoard[p.index].color,\r\n                index: m,\r\n                firstMove:false,  \r\n            }\r\n            cloneBoard[p.index] = {\r\n                piece: Piece.Empty,\r\n                color: Color.None,\r\n                index: p.index,\r\n                firstMove:false\r\n            }\r\n            var score = MinMax(cloneBoard,depth-1, color === Color.Light ? Color.Dark : Color.Light, isMaximizing ? false : true)       \r\n            if(isMaximizing ? score > bestScore : score < bestScore){\r\n                bestScore = score\r\n                bestMove = {\r\n                    start: p.index,\r\n                    end: m\r\n                }\r\n            }\r\n            cloneBoard = JSON.parse(JSON.stringify(board))\r\n        })\r\n    })\r\n    cloneBoard[bestMove.end] = {\r\n        piece: cloneBoard[bestMove.start].piece,\r\n        color: cloneBoard[bestMove.start].color,\r\n        index: bestMove.end,\r\n        firstMove:false,  \r\n    }\r\n    cloneBoard[bestMove.start] = {\r\n        piece: Piece.Empty,\r\n        color: Color.None,\r\n        index: bestMove.start,\r\n        firstMove:false\r\n    }\r\n    return CalcScore(cloneBoard)\r\n}\r\n\r\nconst CalcScore = (board:IPosition[]):number => {\r\n    const lightPieces =  board.filter( s => s.color === Color.Light)\r\n    const darkPieces =  board.filter( s => s.color === Color.Dark)\r\n\r\n    var score = 0\r\n    darkPieces.forEach( p => score+= GetPoints(p))\r\n    lightPieces.forEach( p => score-=GetPoints(p))\r\n    return score\r\n}\r\n\r\nconst GetPoints = (piece:IPosition):number => {\r\n    if(piece.piece === Piece.King ) return KingPoints + ((piece.color === Color.Light) ? LKingPosPoints[piece.index] : DKingPosPoints[piece.index])\r\n    else if(piece.piece === Piece.Queen ) return QueenPoints + QueenPosPoints[piece.index]\r\n    else if(piece.piece === Piece.Bishop ) return BishopPoints + ((piece.color === Color.Light) ? LBishopPosPoints[piece.index] : DBishopPosPoints[piece.index])\r\n    else if(piece.piece === Piece.Knight ) return KnightPoints + KnightPosPoints[piece.index]\r\n    else if(piece.piece === Piece.Rook ) return RookPoints + ((piece.color === Color.Light) ? LRookPosPoints[piece.index] : DRookPosPoints[piece.index])\r\n    else if(piece.piece === Piece.Pawn ) return PawnPoints + ((piece.color === Color.Light) ? LPawnPosPoints[piece.index] : DPawnPosPoints[piece.index])\r\n    else return 0\r\n} ","import React, { useState, useEffect } from 'react'\r\nimport './Board.css'\r\nimport { Piece, IPosition, Color, HandleMoves } from '../piece/piece'\r\nimport { Simulate, Move } from '../simulation/simulation'\r\nimport Popup from 'reactjs-popup'\r\n\r\nconst Board = () => {\r\n    const GetRow = (idx:number):number => Math.floor( idx / 8 )\r\n    const GetCol = (idx:number):number => idx >= 8 ? idx % 8 : idx\r\n    const isLight = (idx:number) => ( GetRow(idx) % 2 ) === (GetCol(idx) % 2)\r\n    const isLightPiece = (idx:number) => board[idx].color === Color.Light \r\n    const isKing = (idx:number) =>  board[idx].piece === Piece.King\r\n    const isQueen = (idx:number) =>  board[idx].piece === Piece.Queen\r\n    const isBishop = (idx:number) =>  board[idx].piece === Piece.Bishop\r\n    const isKnight = (idx:number) =>  board[idx].piece === Piece.Knight\r\n    const isRook = (idx:number) =>  board[idx].piece === Piece.Rook\r\n    const isPawn = (idx:number) =>  board[idx].piece === Piece.Pawn\r\n    const SwapTurns = () => setTurn((turn === Color.Light) ? Color.Dark : Color.Light)\r\n    const isSelected = (idx:number) => selected === idx\r\n    const isAvailableMove = (idx:number) => availableMoves.includes(idx)\r\n    const isKillingMove = (idx:number) => killingMoves.includes(idx)\r\n    const InitializeBoard = ():IPosition[] => {\r\n        let newBoard:IPosition[] = new Array(64).fill({piece: Piece.Empty, color: Color.None, firstMove: true, index: -1})\r\n        newBoard.forEach( (_,i) => newBoard[i] = {piece: Piece.Empty, color: Color.None, firstMove: true, index: i})\r\n        newBoard[0] = {piece: Piece.Rook, color: Color.Dark, firstMove: true, index: 0}\r\n        newBoard[1] = {piece: Piece.Knight, color: Color.Dark, firstMove: true, index: 1}\r\n        newBoard[2] = {piece: Piece.Bishop, color: Color.Dark, firstMove: true, index: 2}\r\n        newBoard[3] = {piece: Piece.Queen, color: Color.Dark, firstMove: true, index: 3}\r\n        newBoard[4] = {piece: Piece.King, color: Color.Dark, firstMove: true, index: 4}\r\n        newBoard[5] = {piece: Piece.Bishop, color: Color.Dark, firstMove: true, index: 5}\r\n        newBoard[6] = {piece: Piece.Knight, color: Color.Dark, firstMove: true, index: 6}\r\n        newBoard[7] = {piece: Piece.Rook, color: Color.Dark, firstMove: true, index: 7}\r\n        for(let i=8; i<16; i++) newBoard[i] = {piece: Piece.Pawn, color: Color.Dark, firstMove: true, index: i}\r\n\r\n\r\n        newBoard[56] = {piece: Piece.Rook, color: Color.Light, firstMove: true, index: 56}\r\n        newBoard[57] = {piece: Piece.Knight, color: Color.Light, firstMove: true, index: 57}\r\n        newBoard[58] = {piece: Piece.Bishop, color: Color.Light, firstMove: true, index: 58}\r\n        newBoard[59] = {piece: Piece.Queen, color: Color.Light, firstMove: true, index: 59}\r\n        newBoard[60] = {piece: Piece.King, color: Color.Light, firstMove: true, index: 60}\r\n        newBoard[61] = {piece: Piece.Bishop, color: Color.Light, firstMove: true, index: 61}\r\n        newBoard[62] = {piece: Piece.Knight, color: Color.Light, firstMove: true, index: 62}\r\n        newBoard[63] = {piece: Piece.Rook, color: Color.Light, firstMove: true, index: 63}\r\n        for(let i=48; i<56; i++) newBoard[i] = {piece: Piece.Pawn, color: Color.Light, firstMove: true, index: i}\r\n        return newBoard\r\n    }\r\n    const HandlePieceClick = (idx:number) => {    \r\n        if(availableMoves.includes(idx)){\r\n            const newBoard = [...board]\r\n            newBoard[idx] ={\r\n                ...board[selected],\r\n                index:idx,\r\n                firstMove: false\r\n            } \r\n            newBoard[selected] = {\r\n                piece: Piece.Empty,\r\n                color: Color.None,\r\n                index: selected,\r\n                firstMove: false\r\n            }\r\n            SetSelected(idx)\r\n            setBoard(newBoard)\r\n            setAvailableMoves([])\r\n            setKillingMoves([])\r\n            SwapTurns()\r\n        }\r\n        else{\r\n            SetSelected(idx)\r\n            if(board[idx].color === turn) setAvailableMoves(HandleMoves(board[idx],board))\r\n            else setAvailableMoves([])\r\n        }\r\n    }\r\n    const CheckForWin = () => {\r\n        var lightKing = false\r\n        var darkKing = false\r\n        board.forEach(s => {\r\n            if(s.piece === Piece.King) (s.color === Color.Light) ? lightKing = true : darkKing = true\r\n        })\r\n        if(lightKing === false) {\r\n            alert(\"Dark has won\")\r\n            ShowPopUp()\r\n            setGameOver(true)\r\n        }\r\n        else if(darkKing === false){\r\n            alert(\"Light has won\")\r\n            ShowPopUp()\r\n            setGameOver(true)\r\n        }  \r\n    }\r\n    const MakeAiMove = (move:Move) => {\r\n        const newBoard = [...board]\r\n        newBoard[move.end] = {\r\n            ...newBoard[move.start],\r\n            firstMove: false,\r\n            index: move.end\r\n        }\r\n        newBoard[move.start] = {\r\n            piece: Piece.Empty,\r\n            color: Color.None,\r\n            firstMove: false,\r\n            index: move.start\r\n        }\r\n        setBoard(newBoard)\r\n        SwapTurns()\r\n    }\r\n    const ShowPopUp = () => (\r\n        <Popup position='center center'>\r\n            <div>\r\n                <h1>This is my popup</h1>\r\n            </div>\r\n        </Popup>\r\n    )\r\n\r\n    const[board,setBoard] = useState( () => InitializeBoard())\r\n    const[turn,setTurn] = useState(Color.Light)\r\n    const[selected,SetSelected] = useState(-1)\r\n    const[availableMoves, setAvailableMoves] = useState([-1])\r\n    const[killingMoves,setKillingMoves] = useState([-1])\r\n    const[gameOver,setGameOver] = useState(false)\r\n\r\n    useEffect( () => {\r\n        const kMoves:number[] =[]\r\n        board.forEach( s => {\r\n            if(s.piece !== Piece.Empty && s.color !== turn){\r\n                if(availableMoves.includes(s.index)) kMoves.push(s.index)\r\n            }\r\n        })\r\n        setKillingMoves(kMoves)\r\n    }, [availableMoves])\r\n    useEffect(() => {\r\n        if(turn === Color.Dark) MakeAiMove(Simulate(board,3,Color.Dark))\r\n    },[turn])\r\n    useEffect(() => CheckForWin())\r\n    useEffect(() => {\r\n        setBoard(InitializeBoard())\r\n        setGameOver(false)\r\n    },[gameOver])\r\n\r\n    return(\r\n        <div className='Board__container'>\r\n            <div className='Board__gameboard'>\r\n                {board.map( (_,idx) => {\r\n                    return( \r\n                    <div className={[\r\n                        'Board__space',\r\n                        `${isLight(idx) ? 'Board__spaceLight' : 'Board__spaceDark'}`,\r\n                        `${isKing(idx) ? isLightPiece(idx) ? 'Board__king-light' : 'Board__king-dark' : '' }`,\r\n                        `${isQueen(idx) ? isLightPiece(idx) ? 'Board__queen-light' : 'Board__queen-dark' : '' }`,\r\n                        `${isBishop(idx) ? isLightPiece(idx) ? 'Board__bishop-light' : 'Board__bishop-dark' : '' }`,\r\n                        `${isKnight(idx) ? isLightPiece(idx) ? 'Board__knight-light' : 'Board__knight-dark' : '' }`,\r\n                        `${isRook(idx) ? isLightPiece(idx) ? 'Board__rook-light' : 'Board__rook-dark' : '' }`,\r\n                        `${isPawn(idx) ? isLightPiece(idx) ? 'Board__pawn-light' : 'Board__pawn-dark' : '' }`,`\r\n                        ${isSelected(idx) && 'Board__Selected'}`,\r\n                        `${isAvailableMove(idx) && 'Board__AvailableMove'}`,\r\n                        `${isKillingMove(idx) && 'Board__KillingMove'}`\r\n                    ].join(\" \")}\r\n                    onClick={() => HandlePieceClick(idx)}\r\n                    key={idx}>{idx}</div>)\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Board","import React from 'react'\r\nimport './Header.css'\r\n\r\nconst Header = () => {\r\n\r\n    return(\r\n        <div className='Header__container'>\r\n            <h1>Chess AI with Min Max Algorithm</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\nimport './App.css'\r\nimport Board from './components/Board/Board'\r\nimport Header from './components/Header/Header';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"app\">\r\n      <Header/>\r\n      <Board/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}